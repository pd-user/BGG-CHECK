<!DOCTYPE html>
<html lang="zh-TW">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>æ¢ç¢¼æ¯”å°ç³»çµ±</title>
  <meta name="description" content="ä½¿ç”¨æ‰‹æ©Ÿæƒæ Code39 æ¢ç¢¼ï¼Œæ¯”å°æ˜¯å¦åœ¨æŒ‡å®šæ¸…å–®ä¸­">
  <meta name="theme-color" content="#0f172a">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #6366f1;
      --primary-dark: #4f46e5;
      --primary-light: #818cf8;
      --success: #10b981;
      --success-bg: rgba(16, 185, 129, 0.1);
      --error: #ef4444;
      --error-bg: rgba(239, 68, 68, 0.1);
      --warning: #f59e0b;
      --warning-bg: rgba(245, 158, 11, 0.1);
      --bg-dark: #0f172a;
      --bg-card: #1e293b;
      --bg-card-hover: #334155;
      --text-primary: #f1f5f9;
      --text-secondary: #94a3b8;
      --text-muted: #64748b;
      --border-color: #334155;
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;
      --radius-xl: 24px;
      --shadow-glow: 0 0 20px rgba(99, 102, 241, 0.3);
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Noto Sans TC', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg-dark);
      color: var(--text-primary);
      min-height: 100vh;
      line-height: 1.6;
    }

    .app-container {
      max-width: 600px;
      margin: 0 auto;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .app-header {
      background: linear-gradient(135deg, var(--bg-card) 0%, var(--bg-dark) 100%);
      border-bottom: 1px solid var(--border-color);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 1.25rem;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .logo-icon {
      font-size: 1.75rem;
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-5px);
      }
    }

    .logo h1 {
      font-size: 1.25rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .gen-date {
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    .main-content {
      flex: 1;
      padding: 1.25rem;
      display: flex;
      flex-direction: column;
      gap: 1.25rem;
    }

    .section {
      background: var(--bg-card);
      border-radius: var(--radius-lg);
      padding: 1.25rem;
      border: 1px solid var(--border-color);
      transition: var(--transition);
    }

    .section:hover {
      border-color: var(--primary);
      box-shadow: var(--shadow-glow);
    }

    .section-header {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .section-icon {
      font-size: 1.25rem;
    }

    .section-header h2 {
      font-size: 1rem;
      font-weight: 600;
      flex: 1;
    }

    .select-wrapper {
      display: flex;
      gap: 0.75rem;
    }

    .list-select {
      flex: 1;
      background: var(--bg-dark);
      border: 1px solid var(--border-color);
      color: var(--text-primary);
      padding: 0.875rem 1rem;
      border-radius: var(--radius-md);
      font-size: 0.95rem;
      cursor: pointer;
      transition: var(--transition);
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 1rem center;
      padding-right: 2.5rem;
    }

    .list-select:focus {
      outline: none;
      border-color: var(--primary);
    }

    .list-select option {
      background: var(--bg-dark);
      color: var(--text-primary);
    }

    .list-stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 0.75rem;
      margin-top: 1rem;
    }

    .stat-item {
      text-align: center;
      padding: 0.75rem;
      background: var(--bg-dark);
      border-radius: var(--radius-md);
      border: 1px solid var(--border-color);
    }

    .stat-label {
      display: block;
      font-size: 0.75rem;
      color: var(--text-muted);
      margin-bottom: 0.25rem;
    }

    .stat-value {
      font-size: 1.5rem;
      font-weight: 700;
    }

    .stat-success .stat-value {
      color: var(--success);
    }

    .stat-pending .stat-value {
      color: var(--warning);
    }

    .scan-section {
      text-align: center;
      padding: 2rem 1.25rem;
    }

    .scan-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      color: white;
      border: none;
      padding: 1.25rem 3rem;
      border-radius: var(--radius-xl);
      font-size: 1.25rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.4), var(--shadow-glow);
      width: 100%;
      max-width: 300px;
      position: relative;
      overflow: hidden;
    }

    .scan-btn:disabled {
      background: var(--bg-card-hover);
      cursor: not-allowed;
      box-shadow: none;
      opacity: 0.6;
    }

    .scan-btn:not(:disabled):hover {
      transform: translateY(-2px);
    }

    .scan-icon {
      font-size: 1.5rem;
    }

    .scan-hint {
      margin-top: 1rem;
      font-size: 0.875rem;
      color: var(--text-muted);
    }

    .scanner-section {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--bg-dark);
      z-index: 1000;
      padding: 1rem;
      display: none;
      flex-direction: column;
      overflow-y: auto;
    }

    .scanner-section.active {
      display: flex;
    }

    .scanner-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.5rem 0;
      flex-shrink: 0;
    }

    .scanner-header h3 {
      font-size: 1.25rem;
    }

    .close-scanner-btn {
      background: var(--error);
      color: white;
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      font-size: 1.25rem;
      cursor: pointer;
    }

    .scanner-reader {
      flex: 1;
      background: #000;
      border-radius: var(--radius-lg);
      overflow: hidden;
      max-height: 50vh;
    }

    .scanner-result {
      margin-top: 0.75rem;
      padding: 1rem;
      border-radius: var(--radius-md);
      text-align: center;
      display: none;
      flex-shrink: 0;
    }

    .scanner-result.show {
      display: block;
      animation: resultPop 0.3s ease;
    }

    @keyframes resultPop {
      0% {
        transform: scale(0.9);
        opacity: 0;
      }

      50% {
        transform: scale(1.02);
      }

      100% {
        transform: scale(1);
        opacity: 1;
      }
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .scanner-result.success {
      background: var(--success-bg);
      border: 2px solid var(--success);
      animation: resultPop 0.3s ease, successFlash 0.5s ease;
    }

    .scanner-result.error {
      background: var(--error-bg);
      border: 2px solid var(--error);
      animation: resultPop 0.3s ease, errorFlash 0.5s ease;
    }

    .scanner-result.warning {
      background: var(--warning-bg);
      border: 2px solid var(--warning);
      animation: resultPop 0.3s ease, warningFlash 0.5s ease;
    }

    @keyframes successFlash {

      0%,
      100% {
        background: var(--success-bg);
      }

      25%,
      75% {
        background: rgba(16, 185, 129, 0.35);
      }
    }

    @keyframes errorFlash {

      0%,
      100% {
        background: var(--error-bg);
      }

      25%,
      75% {
        background: rgba(239, 68, 68, 0.35);
      }
    }

    @keyframes warningFlash {

      0%,
      100% {
        background: var(--warning-bg);
      }

      25%,
      75% {
        background: rgba(245, 158, 11, 0.35);
      }
    }

    .result-icon {
      font-size: 2.5rem;
      margin-bottom: 0.25rem;
    }

    .result-barcode {
      font-size: 1.1rem;
      font-weight: 700;
      font-family: 'Courier New', monospace;
      margin-bottom: 0.25rem;
    }

    .result-message {
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .result-details {
      font-size: 0.8rem;
      color: var(--text-muted);
      margin-top: 0.5rem;
      padding-top: 0.5rem;
      border-top: 1px solid var(--border-color);
    }

    .result-details p {
      margin: 0.15rem 0;
    }

    /* æƒæå™¨å…§å³æ™‚è¨˜éŒ„ */
    .scanner-history {
      margin-top: 0.75rem;
      flex: 1;
      min-height: 100px;
      display: flex;
      flex-direction: column;
    }

    .scanner-history-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 0.5rem;
    }

    .scanner-history-title {
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--text-secondary);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .scanner-history-count {
      background: var(--primary);
      color: white;
      font-size: 0.7rem;
      padding: 0.15rem 0.5rem;
      border-radius: 10px;
    }

    .scanner-history-list {
      flex: 1;
      overflow-y: auto;
      background: var(--bg-card);
      border-radius: var(--radius-md);
      padding: 0.5rem;
      border: 1px solid var(--border-color);
    }

    .scanner-history-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 0.75rem;
      background: var(--bg-dark);
      border-radius: var(--radius-sm);
      margin-bottom: 0.4rem;
      border-left: 3px solid var(--border-color);
    }

    .scanner-history-item.success {
      border-left-color: var(--success);
      background: rgba(16, 185, 129, 0.05);
    }

    .scanner-history-item.error {
      border-left-color: var(--error);
      background: rgba(239, 68, 68, 0.05);
    }

    .scanner-history-item.warning {
      border-left-color: var(--warning);
      background: rgba(245, 158, 11, 0.05);
    }

    .scanner-history-item:last-child {
      margin-bottom: 0;
    }

    .scanner-history-icon {
      font-size: 1rem;
      flex-shrink: 0;
    }

    .scanner-history-content {
      flex: 1;
      min-width: 0;
    }

    .scanner-history-barcode {
      font-size: 0.85rem;
      font-weight: 600;
      font-family: 'Courier New', monospace;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .scanner-history-msg {
      font-size: 0.7rem;
      color: var(--text-muted);
    }

    .scanner-history-time {
      font-size: 0.65rem;
      color: var(--text-muted);
      flex-shrink: 0;
    }

    .scanner-history-empty {
      text-align: center;
      padding: 1rem;
      color: var(--text-muted);
      font-size: 0.85rem;
    }

    @keyframes slideInHistory {
      from {
        opacity: 0;
        transform: translateX(-10px);
      }

      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .scanner-history-item.new {
      animation: slideInHistory 0.3s ease;
    }

    .manual-input {
      display: flex;
      gap: 0.75rem;
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 1px solid var(--border-color);
    }

    .manual-input input {
      flex: 1;
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      color: var(--text-primary);
      padding: 0.875rem 1rem;
      border-radius: var(--radius-md);
      font-size: 1rem;
    }

    .manual-input input:focus {
      outline: none;
      border-color: var(--primary);
    }

    .manual-input button {
      background: var(--primary);
      color: white;
      border: none;
      padding: 0.875rem 1.5rem;
      border-radius: var(--radius-md);
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
    }

    .history-section .section-header {
      margin-bottom: 0.75rem;
    }

    .clear-history-btn {
      background: transparent;
      border: 1px solid var(--border-color);
      color: var(--text-muted);
      padding: 0.375rem 0.75rem;
      border-radius: var(--radius-sm);
      font-size: 0.75rem;
      cursor: pointer;
    }

    .clear-history-btn:hover {
      background: var(--error);
      border-color: var(--error);
      color: white;
    }

    .history-list {
      max-height: 250px;
      overflow-y: auto;
    }

    .empty-history {
      text-align: center;
      padding: 1.5rem;
      color: var(--text-muted);
    }

    .history-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.6rem;
      background: var(--bg-dark);
      border-radius: var(--radius-md);
      margin-bottom: 0.4rem;
      border: 1px solid var(--border-color);
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    .history-item.success {
      border-left: 3px solid var(--success);
    }

    .history-item.error {
      border-left: 3px solid var(--error);
    }

    .history-item.warning {
      border-left: 3px solid var(--warning);
    }

    .history-icon {
      font-size: 1.1rem;
      flex-shrink: 0;
    }

    .history-content {
      flex: 1;
      min-width: 0;
    }

    .history-barcode {
      font-weight: 600;
      font-family: 'Courier New', monospace;
      font-size: 0.85rem;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .history-message {
      font-size: 0.7rem;
      color: var(--text-muted);
    }

    .history-time {
      font-size: 0.65rem;
      color: var(--text-muted);
      flex-shrink: 0;
    }

    .toast-container {
      position: fixed;
      top: 1rem;
      left: 50%;
      transform: translateX(-50%);
      z-index: 3000;
      width: 90%;
      max-width: 350px;
    }

    .toast {
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      padding: 0.875rem 1rem;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.4);
      text-align: center;
      margin-bottom: 0.5rem;
      animation: slideDown 0.3s ease;
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .toast.success {
      border-left: 3px solid var(--success);
    }

    .toast.error {
      border-left: 3px solid var(--error);
    }

    .toast.info {
      border-left: 3px solid var(--primary);
    }

    ::-webkit-scrollbar {
      width: 5px;
    }

    ::-webkit-scrollbar-track {
      background: var(--bg-dark);
    }

    ::-webkit-scrollbar-thumb {
      background: var(--border-color);
      border-radius: 3px;
    }

    .hidden {
      display: none !important;
    }
  </style>
</head>

<body>
  <div class="app-container">
    <header class="app-header">
      <div class="header-content">
        <div class="logo">
          <span class="logo-icon">ğŸ“¦</span>
          <h1>æ¢ç¢¼æ¯”å°ç³»çµ±</h1>
        </div>
        <div class="gen-date">è³‡æ–™æ—¥æœŸ: 2026-01-16</div>
      </div>
    </header>

    <main class="main-content">
      <section class="section list-section">
        <div class="section-header">
          <span class="section-icon">ğŸ“‹</span>
          <h2>é¸æ“‡æ¸…å–®</h2>
        </div>
        <div class="select-wrapper">
          <select id="listSelect" class="list-select">
            <option value="">-- è«‹é¸æ“‡æ¸…å–® --</option>
          </select>
        </div>
        <div class="list-stats hidden" id="listStats">
          <div class="stat-item">
            <span class="stat-label">æ¸…å–®æ¢ç¢¼æ•¸</span>
            <span class="stat-value" id="totalCount">0</span>
          </div>
          <div class="stat-item stat-success">
            <span class="stat-label">å·²æƒæ</span>
            <span class="stat-value" id="scannedCount">0</span>
          </div>
          <div class="stat-item stat-pending">
            <span class="stat-label">æœªæƒæ</span>
            <span class="stat-value" id="pendingCount">0</span>
          </div>
        </div>
      </section>

      <section class="section scan-section">
        <button class="scan-btn" id="scanBtn" disabled>
          <span class="scan-icon">ğŸ“·</span>
          <span>é–‹å§‹æƒæ</span>
        </button>
        <p class="scan-hint" id="scanHint">è«‹å…ˆé¸æ“‡æ¸…å–®å¾Œé–‹å§‹æƒæ</p>
      </section>

      <section class="section history-section">
        <div class="section-header">
          <span class="section-icon">ğŸ“œ</span>
          <h2>æƒæè¨˜éŒ„</h2>
          <button class="clear-history-btn" id="clearHistoryBtn">æ¸…é™¤</button>
        </div>
        <div class="history-list" id="historyList">
          <div class="empty-history">
            <p>å°šç„¡æƒæè¨˜éŒ„</p>
          </div>
        </div>
      </section>
    </main>
  </div>

  <div class="scanner-section" id="scannerSection">
    <div class="scanner-header">
      <h3>ğŸ“· æƒææ¢ç¢¼</h3>
      <button class="close-scanner-btn" id="closeScannerBtn">âœ•</button>
    </div>
    <div id="reader" class="scanner-reader"></div>
    <div class="scanner-result" id="scannerResult">
      <div class="result-icon" id="scannerResultIcon"></div>
      <div class="result-barcode" id="scannerResultBarcode"></div>
      <div class="result-message" id="scannerResultMessage"></div>
      <div class="result-details" id="scannerResultDetails"></div>
    </div>
    <div class="manual-input">
      <input type="text" id="manualBarcode" placeholder="æˆ–æ‰‹å‹•è¼¸å…¥æ¢ç¢¼...">
      <button id="manualSubmitBtn">ç¢ºèª</button>
    </div>
    <!-- æƒæå™¨å…§çš„å³æ™‚è¨˜éŒ„ -->
    <div class="scanner-history">
      <div class="scanner-history-header">
        <span class="scanner-history-title">
          ğŸ“œ å³æ™‚æƒæè¨˜éŒ„
          <span class="scanner-history-count" id="scannerHistoryCount">0</span>
        </span>
      </div>
      <div class="scanner-history-list" id="scannerHistoryList">
        <div class="scanner-history-empty">é–‹å§‹æƒææ¢ç¢¼...</div>
      </div>
    </div>
  </div>

  <div class="toast-container" id="toastContainer"></div>

  <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
  <script>
    // ===== å…§åµŒè³‡æ–™ =====
    const LISTS_DATA = [
      {
        "serial": "01",
        "name": "BGGæ›æ¨™ä½µTRAY-0115 TO RA169AD.GG0040_AUO-BIN1-V02",
        "barcodes": [
          "0BGG251200313",
          "0BGG251200316",
          "0BGG251200838",
          "0BGG251200841",
          "0BGG251200845",
          "0BGG251200876",
          "0BGG251200879",
          "0BGG251200888",
          "0BGG251200894",
          "0BGG251200986",
          "0BGG251200992",
          "0BGG251201026",
          "0BGG251201040",
          "0BGG251201043",
          "0BGG251201046",
          "0BGG251201066",
          "0BGG251201075",
          "0BGG260100011",
          "0BGG260100014",
          "0BGG260100033",
          "0BGG260100141",
          "0BGG260100147",
          "0BGG260100150",
          "0BGG260100153",
          "0BGG260100156"
        ],
        "fullData": [
          {
            "barcode": "0BGG251200313",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMK940.1.V"
          },
          {
            "barcode": "0BGG251200316",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMG487.1.V"
          },
          {
            "barcode": "0BGG251200838",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMH987.1.V"
          },
          {
            "barcode": "0BGG251200841",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMF507.1.V"
          },
          {
            "barcode": "0BGG251200845",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMH489.1.V"
          },
          {
            "barcode": "0BGG251200876",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMM723.1.V"
          },
          {
            "barcode": "0BGG251200879",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMK232.1.V"
          },
          {
            "barcode": "0BGG251200888",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMG400.1.V"
          },
          {
            "barcode": "0BGG251200894",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMH405.1.V"
          },
          {
            "barcode": "0BGG251200986",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMK940.1.V"
          },
          {
            "barcode": "0BGG251200992",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMM232.1.V"
          },
          {
            "barcode": "0BGG251201026",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMM805.1.V"
          },
          {
            "barcode": "0BGG251201040",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMM804.1.V"
          },
          {
            "barcode": "0BGG251201043",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMM232.1.V"
          },
          {
            "barcode": "0BGG251201046",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMK232.1.V"
          },
          {
            "barcode": "0BGG251201066",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMK231.1.V"
          },
          {
            "barcode": "0BGG251201075",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMM722.1.V"
          },
          {
            "barcode": "0BGG260100011",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMM804.1.V"
          },
          {
            "barcode": "0BGG260100014",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMH489.1.V"
          },
          {
            "barcode": "0BGG260100033",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMM807.1.V"
          },
          {
            "barcode": "0BGG260100141",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMK509.1.V"
          },
          {
            "barcode": "0BGG260100147",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMK092.1.V"
          },
          {
            "barcode": "0BGG260100150",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMM720.1.V"
          },
          {
            "barcode": "0BGG260100153",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMM347.1.V"
          },
          {
            "barcode": "0BGG260100156",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG0040_AUO",
            "batch": "GMH778.1.V"
          }
        ]
      },
      {
        "serial": "02",
        "name": "BGGæ›æ¨™ä½µTRAY-0115 TO RA169AD.GG1040_AUO-BIN51-V02",
        "barcodes": [
          "0BGG251200314",
          "0BGG251200317",
          "0BGG251200819",
          "0BGG251200824",
          "0BGG251200839",
          "0BGG251200842",
          "0BGG251200846",
          "0BGG251200858",
          "0BGG251200877",
          "0BGG251200880",
          "0BGG251200889",
          "0BGG251200892",
          "0BGG251200895",
          "0BGG251200905",
          "0BGG251200918",
          "0BGG251200987",
          "0BGG251200990",
          "0BGG251200993",
          "0BGG251201000",
          "0BGG251201003",
          "0BGG251201027",
          "0BGG251201041",
          "0BGG251201044",
          "0BGG251201047",
          "0BGG251201051",
          "0BGG251201061",
          "0BGG251201064",
          "0BGG251201067",
          "0BGG251201070",
          "0BGG251201073",
          "0BGG251201076",
          "0BGG260100012",
          "0BGG260100015",
          "0BGG260100034",
          "0BGG260100056",
          "0BGG260100059",
          "0BGG260100082",
          "0BGG260100085",
          "0BGG260100126",
          "0BGG260100136",
          "0BGG260100139",
          "0BGG260100142",
          "0BGG260100145",
          "0BGG260100148",
          "0BGG260100151",
          "0BGG260100154",
          "0BGG260100157",
          "0BGG260100236"
        ],
        "fullData": [
          {
            "barcode": "0BGG251200314",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMK940.1.V"
          },
          {
            "barcode": "0BGG251200317",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMG487.1.V"
          },
          {
            "barcode": "0BGG251200819",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMH984.1.V"
          },
          {
            "barcode": "0BGG251200824",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMH406.1.V"
          },
          {
            "barcode": "0BGG251200839",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMH987.1.V"
          },
          {
            "barcode": "0BGG251200842",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMF507.1.V"
          },
          {
            "barcode": "0BGG251200846",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMH489.1.V"
          },
          {
            "barcode": "0BGG251200858",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM720.1.V"
          },
          {
            "barcode": "0BGG251200877",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM723.1.V"
          },
          {
            "barcode": "0BGG251200880",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMK232.1.V"
          },
          {
            "barcode": "0BGG251200889",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMG400.1.V"
          },
          {
            "barcode": "0BGG251200892",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMK093.1.V"
          },
          {
            "barcode": "0BGG251200895",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMH405.1.V"
          },
          {
            "barcode": "0BGG251200905",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMH489.1.V"
          },
          {
            "barcode": "0BGG251200918",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMH984.1.V"
          },
          {
            "barcode": "0BGG251200987",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMK940.1.V"
          },
          {
            "barcode": "0BGG251200990",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMH988.1.V"
          },
          {
            "barcode": "0BGG251200993",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM232.1.V"
          },
          {
            "barcode": "0BGG251201000",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM720.1.V"
          },
          {
            "barcode": "0BGG251201003",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM043.1.V"
          },
          {
            "barcode": "0BGG251201027",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM805.1.V"
          },
          {
            "barcode": "0BGG251201041",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM804.1.V"
          },
          {
            "barcode": "0BGG251201044",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM232.1.V"
          },
          {
            "barcode": "0BGG251201047",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMK232.1.V"
          },
          {
            "barcode": "0BGG251201051",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM807.1.V"
          },
          {
            "barcode": "0BGG251201061",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM807.1.V"
          },
          {
            "barcode": "0BGG251201064",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM804.1.V"
          },
          {
            "barcode": "0BGG251201067",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMK231.1.V"
          },
          {
            "barcode": "0BGG251201070",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMH987.1.V"
          },
          {
            "barcode": "0BGG251201073",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMH661.1.V"
          },
          {
            "barcode": "0BGG251201076",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM722.1.V"
          },
          {
            "barcode": "0BGG260100012",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM804.1.V"
          },
          {
            "barcode": "0BGG260100015",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMH489.1.V"
          },
          {
            "barcode": "0BGG260100034",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM807.1.V"
          },
          {
            "barcode": "0BGG260100056",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM722.1.V"
          },
          {
            "barcode": "0BGG260100059",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMK093.1.V"
          },
          {
            "barcode": "0BGG260100082",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM723.1.V"
          },
          {
            "barcode": "0BGG260100085",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM722.1.V"
          },
          {
            "barcode": "0BGG260100126",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMH665.1.V"
          },
          {
            "barcode": "0BGG260100136",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM809.1.V"
          },
          {
            "barcode": "0BGG260100139",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM804.1.V"
          },
          {
            "barcode": "0BGG260100142",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMK509.1.V"
          },
          {
            "barcode": "0BGG260100145",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMK092.1.V"
          },
          {
            "barcode": "0BGG260100148",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMK092.1.V"
          },
          {
            "barcode": "0BGG260100151",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM720.1.V"
          },
          {
            "barcode": "0BGG260100154",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM347.1.V"
          },
          {
            "barcode": "0BGG260100157",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMH778.1.V"
          },
          {
            "barcode": "0BGG260100236",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM806.1.V"
          }
        ]
      },
      {
        "serial": "03",
        "name": "BGGæ›æ¨™ä½µTRAY-0115 TO RA169AD.GG1040_AUO-BIN51-V04",
        "barcodes": [
          "0BGG260100133",
          "0BGG260100229",
          "0BGG260100251",
          "0BGG260100284"
        ],
        "fullData": [
          {
            "barcode": "0BGG260100133",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMN236.1.V"
          },
          {
            "barcode": "0BGG260100229",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMG940.1.V"
          },
          {
            "barcode": "0BGG260100251",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMM618.1.V"
          },
          {
            "barcode": "0BGG260100284",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG1040_AUO",
            "batch": "GMG940.1.V"
          }
        ]
      },
      {
        "serial": "04",
        "name": "BGGæ›æ¨™ä½µTRAY-0115 TO RA169AD.GC0040_AUO-BIN1",
        "barcodes": [
          "0BGG251200239",
          "0BGG251200248",
          "0BGG251200334",
          "0BGG251200376",
          "0BGG251200402",
          "0BGG251200408",
          "0BGG251200414",
          "0BGG251200456",
          "0BGG251200483",
          "0BGG251200486",
          "0BGG251200489",
          "0BGG251200510",
          "0BGG251200574",
          "0BGG251200577",
          "0BGG251200607",
          "0BGG251200650",
          "0BGG251200675",
          "0BGG251200689"
        ],
        "fullData": [
          {
            "barcode": "0BGG251200239",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC0040_AUO",
            "batch": "GMM347.1.V"
          },
          {
            "barcode": "0BGG251200248",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC0040_AUO",
            "batch": "GMH988.1.V"
          },
          {
            "barcode": "0BGG251200334",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC0040_AUO",
            "batch": "GMH663.1.V"
          },
          {
            "barcode": "0BGG251200376",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC0040_AUO",
            "batch": "GMK510.1.V"
          },
          {
            "barcode": "0BGG251200402",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC0040_AUO",
            "batch": "GMM721.1.V"
          },
          {
            "barcode": "0BGG251200408",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC0040_AUO",
            "batch": "GMH490.1.V"
          },
          {
            "barcode": "0BGG251200414",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC0040_AUO",
            "batch": "GMG860.1.V"
          },
          {
            "barcode": "0BGG251200456",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC0040_AUO",
            "batch": "GMK940.1.V"
          },
          {
            "barcode": "0BGG251200483",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC0040_AUO",
            "batch": "GMH404.1.V"
          },
          {
            "barcode": "0BGG251200486",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC0040_AUO",
            "batch": "GMG399.1.V"
          },
          {
            "barcode": "0BGG251200489",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC0040_AUO",
            "batch": "GMF507.1.V"
          },
          {
            "barcode": "0BGG251200510",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC0040_AUO",
            "batch": "GMG052.1.V"
          },
          {
            "barcode": "0BGG251200574",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC0040_AUO",
            "batch": "GMH781.1.V"
          },
          {
            "barcode": "0BGG251200577",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC0040_AUO",
            "batch": "GMH404.1.V"
          },
          {
            "barcode": "0BGG251200607",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC0040_AUO",
            "batch": "GMH777.1.V"
          },
          {
            "barcode": "0BGG251200650",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC0040_AUO",
            "batch": "GMG860.1.V"
          },
          {
            "barcode": "0BGG251200675",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC0040_AUO",
            "batch": "GMG768.1.V"
          },
          {
            "barcode": "0BGG251200689",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC0040_AUO",
            "batch": "GMF507.1.V"
          }
        ]
      },
      {
        "serial": "05",
        "name": "BGGæ›æ¨™ä½µTRAY-0115 TO RA169AD.GC1040_AUO-BIN51",
        "barcodes": [
          "0BGG251200371",
          "0BGG251200383",
          "0BGG251200403",
          "0BGG251200406",
          "0BGG251200409",
          "0BGG251200415",
          "0BGG251200454",
          "0BGG251200457",
          "0BGG251200478",
          "0BGG251200481",
          "0BGG251200484",
          "0BGG251200487",
          "0BGG251200490",
          "0BGG251200497",
          "0BGG251200511",
          "0BGG251200518",
          "0BGG251200565",
          "0BGG251200575",
          "0BGG251200578",
          "0BGG251200587",
          "0BGG251200598",
          "0BGG251200605",
          "0BGG251200608",
          "0BGG251200651",
          "0BGG251200654",
          "0BGG251200676",
          "0BGG251200690",
          "0BGG251200693",
          "0BGG251200696",
          "0BGG251200716",
          "0BGG251200719"
        ],
        "fullData": [
          {
            "barcode": "0BGG251200371",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMM721.1.V"
          },
          {
            "barcode": "0BGG251200383",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMH404.1.V"
          },
          {
            "barcode": "0BGG251200403",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMM721.1.V"
          },
          {
            "barcode": "0BGG251200406",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMK940.1.V"
          },
          {
            "barcode": "0BGG251200409",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMH490.1.V"
          },
          {
            "barcode": "0BGG251200415",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMG860.1.V"
          },
          {
            "barcode": "0BGG251200454",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMG860.1.V"
          },
          {
            "barcode": "0BGG251200457",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMK940.1.V"
          },
          {
            "barcode": "0BGG251200478",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMK510.1.V"
          },
          {
            "barcode": "0BGG251200481",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMH776.1.V"
          },
          {
            "barcode": "0BGG251200484",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMH404.1.V"
          },
          {
            "barcode": "0BGG251200487",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMG399.1.V"
          },
          {
            "barcode": "0BGG251200490",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMF507.1.V"
          },
          {
            "barcode": "0BGG251200497",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMG052.1.V"
          },
          {
            "barcode": "0BGG251200511",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMG052.1.V"
          },
          {
            "barcode": "0BGG251200518",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMG399.1.V"
          },
          {
            "barcode": "0BGG251200565",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMH779.1.V"
          },
          {
            "barcode": "0BGG251200575",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMH781.1.V"
          },
          {
            "barcode": "0BGG251200578",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMH404.1.V"
          },
          {
            "barcode": "0BGG251200587",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMG768.1.V"
          },
          {
            "barcode": "0BGG251200598",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMH406.1.V"
          },
          {
            "barcode": "0BGG251200605",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMH779.1.V"
          },
          {
            "barcode": "0BGG251200608",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMH777.1.V"
          },
          {
            "barcode": "0BGG251200651",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMG860.1.V"
          },
          {
            "barcode": "0BGG251200654",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMF507.1.V"
          },
          {
            "barcode": "0BGG251200676",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMG768.1.V"
          },
          {
            "barcode": "0BGG251200690",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMF507.1.V"
          },
          {
            "barcode": "0BGG251200693",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMH661.1.V"
          },
          {
            "barcode": "0BGG251200696",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMG399.1.V"
          },
          {
            "barcode": "0BGG251200716",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMH778.1.V"
          },
          {
            "barcode": "0BGG251200719",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC1040_AUO",
            "batch": "GMH489.1.V"
          }
        ]
      },
      {
        "serial": "06",
        "name": "BGGæ›æ¨™ä½µTRAY-0115 TO RA169AD.GC2040_AUO-BIN52",
        "barcodes": [
          "0BGG251200384",
          "0BGG251200404",
          "0BGG251200410",
          "0BGG251200413",
          "0BGG251200416",
          "0BGG251200427",
          "0BGG251200458",
          "0BGG251200485",
          "0BGG251200488",
          "0BGG251200491",
          "0BGG251200498",
          "0BGG251200512",
          "0BGG251200519",
          "0BGG251200566",
          "0BGG251200576",
          "0BGG251200579",
          "0BGG251200599",
          "0BGG251200606",
          "0BGG251200609",
          "0BGG251200649",
          "0BGG251200652",
          "0BGG251200655",
          "0BGG251200691",
          "0BGG251200697",
          "0BGG251200720"
        ],
        "fullData": [
          {
            "barcode": "0BGG251200384",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMH404.1.V"
          },
          {
            "barcode": "0BGG251200404",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMM721.1.V"
          },
          {
            "barcode": "0BGG251200410",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMH490.1.V"
          },
          {
            "barcode": "0BGG251200413",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMH403.1.V"
          },
          {
            "barcode": "0BGG251200416",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMG860.1.V"
          },
          {
            "barcode": "0BGG251200427",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMG052.1.V"
          },
          {
            "barcode": "0BGG251200458",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMK940.1.V"
          },
          {
            "barcode": "0BGG251200485",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMH404.1.V"
          },
          {
            "barcode": "0BGG251200488",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMG399.1.V"
          },
          {
            "barcode": "0BGG251200491",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMF507.1.V"
          },
          {
            "barcode": "0BGG251200498",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMG052.1.V"
          },
          {
            "barcode": "0BGG251200512",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMG052.1.V"
          },
          {
            "barcode": "0BGG251200519",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMG399.1.V"
          },
          {
            "barcode": "0BGG251200566",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMH779.1.V"
          },
          {
            "barcode": "0BGG251200576",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMH781.1.V"
          },
          {
            "barcode": "0BGG251200579",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMH404.1.V"
          },
          {
            "barcode": "0BGG251200599",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMH406.1.V"
          },
          {
            "barcode": "0BGG251200606",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMH779.1.V"
          },
          {
            "barcode": "0BGG251200609",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMH777.1.V"
          },
          {
            "barcode": "0BGG251200649",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMH403.1.V"
          },
          {
            "barcode": "0BGG251200652",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMG860.1.V"
          },
          {
            "barcode": "0BGG251200655",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMF507.1.V"
          },
          {
            "barcode": "0BGG251200691",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMF507.1.V"
          },
          {
            "barcode": "0BGG251200697",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMG399.1.V"
          },
          {
            "barcode": "0BGG251200720",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GC2040_AUO",
            "batch": "GMH489.1.V"
          }
        ]
      },
      {
        "serial": "07",
        "name": "BGGæ›æ¨™ä½µTRAY-0115 TO RA169AD.GG2040_AUO-BIN52-V02",
        "barcodes": [
          "0BGG251200315",
          "0BGG251200318",
          "0BGG251200825",
          "0BGG251200840",
          "0BGG251200843",
          "0BGG251200847",
          "0BGG251200862",
          "0BGG251200865",
          "0BGG251200878",
          "0BGG251200881",
          "0BGG251200890",
          "0BGG251200893",
          "0BGG251200896",
          "0BGG251200903",
          "0BGG251200906",
          "0BGG251200919",
          "0BGG251200923",
          "0BGG251200988",
          "0BGG251200991",
          "0BGG251200994",
          "0BGG251200997",
          "0BGG251201001",
          "0BGG251201004",
          "0BGG251201028",
          "0BGG251201034",
          "0BGG251201042",
          "0BGG251201045",
          "0BGG251201048",
          "0BGG251201052",
          "0BGG251201062",
          "0BGG251201065",
          "0BGG251201068",
          "0BGG251201071",
          "0BGG251201074",
          "0BGG251201077",
          "0BGG260100013",
          "0BGG260100016",
          "0BGG260100035",
          "0BGG260100060",
          "0BGG260100083",
          "0BGG260100086",
          "0BGG260100124",
          "0BGG260100127",
          "0BGG260100137",
          "0BGG260100140",
          "0BGG260100143",
          "0BGG260100146",
          "0BGG260100149",
          "0BGG260100152",
          "0BGG260100155",
          "0BGG260100158",
          "0BGG260100203",
          "0BGG260100237"
        ],
        "fullData": [
          {
            "barcode": "0BGG251200315",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMK940.1.V"
          },
          {
            "barcode": "0BGG251200318",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMG487.1.V"
          },
          {
            "barcode": "0BGG251200825",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMH406.1.V"
          },
          {
            "barcode": "0BGG251200840",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMH987.1.V"
          },
          {
            "barcode": "0BGG251200843",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMF507.1.V"
          },
          {
            "barcode": "0BGG251200847",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMH489.1.V"
          },
          {
            "barcode": "0BGG251200862",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMK509.1.V"
          },
          {
            "barcode": "0BGG251200865",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMH987.1.V"
          },
          {
            "barcode": "0BGG251200878",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM723.1.V"
          },
          {
            "barcode": "0BGG251200881",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMK232.1.V"
          },
          {
            "barcode": "0BGG251200890",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMG400.1.V"
          },
          {
            "barcode": "0BGG251200893",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMK093.1.V"
          },
          {
            "barcode": "0BGG251200896",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMH405.1.V"
          },
          {
            "barcode": "0BGG251200903",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM043.1.V"
          },
          {
            "barcode": "0BGG251200906",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMH489.1.V"
          },
          {
            "barcode": "0BGG251200919",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMH984.1.V"
          },
          {
            "barcode": "0BGG251200923",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMK092.1.V"
          },
          {
            "barcode": "0BGG251200988",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMK940.1.V"
          },
          {
            "barcode": "0BGG251200991",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMH988.1.V"
          },
          {
            "barcode": "0BGG251200994",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM232.1.V"
          },
          {
            "barcode": "0BGG251200997",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMK232.1.V"
          },
          {
            "barcode": "0BGG251201001",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM720.1.V"
          },
          {
            "barcode": "0BGG251201004",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM043.1.V"
          },
          {
            "barcode": "0BGG251201028",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM805.1.V"
          },
          {
            "barcode": "0BGG251201034",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM232.1.V"
          },
          {
            "barcode": "0BGG251201042",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM804.1.V"
          },
          {
            "barcode": "0BGG251201045",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM232.1.V"
          },
          {
            "barcode": "0BGG251201048",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMK232.1.V"
          },
          {
            "barcode": "0BGG251201052",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM807.1.V"
          },
          {
            "barcode": "0BGG251201062",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM807.1.V"
          },
          {
            "barcode": "0BGG251201065",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM804.1.V"
          },
          {
            "barcode": "0BGG251201068",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMK231.1.V"
          },
          {
            "barcode": "0BGG251201071",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMH987.1.V"
          },
          {
            "barcode": "0BGG251201074",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMH661.1.V"
          },
          {
            "barcode": "0BGG251201077",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM722.1.V"
          },
          {
            "barcode": "0BGG260100013",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM804.1.V"
          },
          {
            "barcode": "0BGG260100016",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMH489.1.V"
          },
          {
            "barcode": "0BGG260100035",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM807.1.V"
          },
          {
            "barcode": "0BGG260100060",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMK093.1.V"
          },
          {
            "barcode": "0BGG260100083",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM723.1.V"
          },
          {
            "barcode": "0BGG260100086",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM722.1.V"
          },
          {
            "barcode": "0BGG260100124",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM804.1.V"
          },
          {
            "barcode": "0BGG260100127",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMH665.1.V"
          },
          {
            "barcode": "0BGG260100137",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM809.1.V"
          },
          {
            "barcode": "0BGG260100140",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM804.1.V"
          },
          {
            "barcode": "0BGG260100143",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMK509.1.V"
          },
          {
            "barcode": "0BGG260100146",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMK092.1.V"
          },
          {
            "barcode": "0BGG260100149",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMK092.1.V"
          },
          {
            "barcode": "0BGG260100152",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM720.1.V"
          },
          {
            "barcode": "0BGG260100155",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM347.1.V"
          },
          {
            "barcode": "0BGG260100158",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMH778.1.V"
          },
          {
            "barcode": "0BGG260100203",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMK507.1.V"
          },
          {
            "barcode": "0BGG260100237",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM806.1.V"
          }
        ]
      },
      {
        "serial": "08",
        "name": "BGGæ›æ¨™ä½µTRAY-0115 TO RA169AD.GG2040_AUO-BIN52-V04",
        "barcodes": [
          "0BGG260100134",
          "0BGG260100214",
          "0BGG260100230",
          "0BGG260100252",
          "0BGG260100271"
        ],
        "fullData": [
          {
            "barcode": "0BGG260100134",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMN236.1.V"
          },
          {
            "barcode": "0BGG260100214",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMK941.1.V"
          },
          {
            "barcode": "0BGG260100230",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMG940.1.V"
          },
          {
            "barcode": "0BGG260100252",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMM618.1.V"
          },
          {
            "barcode": "0BGG260100271",
            "customer": "ç‘é¼ç§‘æŠ€",
            "product": "RA169AD.GG2040_AUO",
            "batch": "GMG940.1.V"
          }
        ]
      }
    ];

    // ===== å…¨åŸŸè®Šæ•¸ =====
    let html5QrCode = null;
    let selectedListIndex = -1;
    let scannedBarcodes = new Set();
    let scanHistory = [];

    // ===== DOM å…ƒç´  =====
    const listSelect = document.getElementById('listSelect');
    const listStats = document.getElementById('listStats');
    const totalCount = document.getElementById('totalCount');
    const scannedCount = document.getElementById('scannedCount');
    const pendingCount = document.getElementById('pendingCount');
    const scanBtn = document.getElementById('scanBtn');
    const scanHint = document.getElementById('scanHint');
    const scannerSection = document.getElementById('scannerSection');
    const closeScannerBtn = document.getElementById('closeScannerBtn');
    const manualBarcode = document.getElementById('manualBarcode');
    const manualSubmitBtn = document.getElementById('manualSubmitBtn');
    const scannerResult = document.getElementById('scannerResult');
    const scannerResultIcon = document.getElementById('scannerResultIcon');
    const scannerResultBarcode = document.getElementById('scannerResultBarcode');
    const scannerResultMessage = document.getElementById('scannerResultMessage');
    const scannerResultDetails = document.getElementById('scannerResultDetails');
    const historyList = document.getElementById('historyList');
    const clearHistoryBtn = document.getElementById('clearHistoryBtn');
    const toastContainer = document.getElementById('toastContainer');
    const scannerHistoryList = document.getElementById('scannerHistoryList');
    const scannerHistoryCount = document.getElementById('scannerHistoryCount');

    // æƒæå™¨å…§çš„å³æ™‚è¨˜éŒ„ï¼ˆåƒ…é™ç•¶æ¬¡æƒææœŸé–“ï¼‰
    let scannerSessionHistory = [];

    // ===== åˆå§‹åŒ– =====
    document.addEventListener('DOMContentLoaded', () => {
      populateListSelect();
      loadFromStorage();
      setupEventListeners();
    });

    function populateListSelect() {
      LISTS_DATA.forEach((list, index) => {
        const option = document.createElement('option');
        option.value = index;
        option.textContent = `${list.serial} - ${list.name}`;
        listSelect.appendChild(option);
      });
    }

    function setupEventListeners() {
      listSelect.addEventListener('change', onListSelected);
      scanBtn.addEventListener('click', openScanner);
      closeScannerBtn.addEventListener('click', closeScanner);
      manualSubmitBtn.addEventListener('click', submitManualBarcode);
      manualBarcode.addEventListener('keypress', (e) => { if (e.key === 'Enter') submitManualBarcode(); });
      clearHistoryBtn.addEventListener('click', clearHistory);
    }

    function onListSelected() {
      const index = parseInt(listSelect.value);
      if (isNaN(index) || index < 0) {
        selectedListIndex = -1;
        listStats.classList.add('hidden');
        scanBtn.disabled = true;
        scanHint.textContent = 'è«‹å…ˆé¸æ“‡æ¸…å–®å¾Œé–‹å§‹æƒæ';
        return;
      }

      selectedListIndex = index;
      listStats.classList.remove('hidden');
      scanBtn.disabled = false;
      scanHint.textContent = 'é»æ“ŠæŒ‰éˆ•é–‹å§‹æƒææ¢ç¢¼';
      updateStats();
      showToast(`å·²é¸æ“‡ï¼š${LISTS_DATA[index].name}`, 'success');
    }

    function updateStats() {
      if (selectedListIndex < 0) {
        return;
      }

      const list = LISTS_DATA[selectedListIndex];
      const total = list.barcodes.length;
      let scanned = 0;

      list.barcodes.forEach(b => {
        const key = `${selectedListIndex}:${b.toUpperCase()}`;
        if (scannedBarcodes.has(key)) {
          scanned++;
        }
      });

      totalCount.textContent = total;
      scannedCount.textContent = scanned;
      pendingCount.textContent = total - scanned;
    }

    function openScanner() {
      if (selectedListIndex < 0) return;

      scannerSection.classList.add('active');
      document.body.style.overflow = 'hidden';
      scannerResult.classList.remove('show');

      // é‡ç½®æƒæå™¨å…§çš„å³æ™‚è¨˜éŒ„
      scannerSessionHistory = [];
      renderScannerHistory();

      html5QrCode = new Html5Qrcode("reader");

      // åŸå§‹æƒææ¡†é…ç½®
      const screenWidth = window.innerWidth;
      const qrboxWidth = Math.min(screenWidth - 40, 350);
      const qrboxHeight = 150;

      html5QrCode.start(
        { facingMode: "environment" },
        {
          fps: 15,
          qrbox: { width: qrboxWidth, height: qrboxHeight },
          aspectRatio: 1.0,
          formatsToSupport: [
            Html5QrcodeSupportedFormats.CODE_39,
            Html5QrcodeSupportedFormats.CODE_93,
            Html5QrcodeSupportedFormats.CODE_128,
            Html5QrcodeSupportedFormats.ITF,
            Html5QrcodeSupportedFormats.EAN_13,
            Html5QrcodeSupportedFormats.EAN_8,
            Html5QrcodeSupportedFormats.CODABAR
          ]
        },
        onScanSuccess,
        () => { }
      ).catch(err => {
        console.error('ç›¸æ©ŸéŒ¯èª¤:', err);
        showToast('ç„¡æ³•å­˜å–ç›¸æ©Ÿï¼Œè«‹ç¢ºèªæ¬Šé™', 'error');
      });
    }

    function closeScanner() {
      if (html5QrCode) {
        html5QrCode.stop().then(() => { html5QrCode.clear(); html5QrCode = null; }).catch(() => { });
      }
      scannerSection.classList.remove('active');
      document.body.style.overflow = '';
      manualBarcode.value = '';
      // é—œé–‰æƒæå™¨æ™‚é‡æ–°æ›´æ–°ä¸»ä»‹é¢çµ±è¨ˆ
      updateStats();
      renderHistory();
    }

    function onScanSuccess(decodedText) {
      verifyBarcode(decodedText);
      if (navigator.vibrate) navigator.vibrate(100);
    }

    function submitManualBarcode() {
      const barcode = manualBarcode.value.trim();
      if (barcode) {
        verifyBarcode(barcode);
        manualBarcode.value = '';
      }
    }

    function verifyBarcode(barcode) {
      if (selectedListIndex < 0) return;

      const list = LISTS_DATA[selectedListIndex];
      const barcodeUpper = barcode.toUpperCase();
      const key = `${selectedListIndex}:${barcodeUpper}`;  // çµ±ä¸€ä½¿ç”¨å¤§å¯«ä½œç‚º key
      const isDuplicate = scannedBarcodes.has(key);

      let found = false;
      let record = null;

      for (const r of list.fullData) {
        if (r.barcode.toUpperCase() === barcodeUpper) {
          found = true;
          record = r;
          break;
        }
      }

      let status, icon, message;

      if (isDuplicate) {
        status = 'warning'; icon = 'âš ï¸'; message = 'æ­¤æ¢ç¢¼å·²æƒæé';
      } else if (found) {
        status = 'success'; icon = 'âœ“'; message = 'æ¯”å°æˆåŠŸï¼æ­¤æ¢ç¢¼åœ¨æ¸…å–®ä¸­';
        scannedBarcodes.add(key);  // ä½¿ç”¨å¤§å¯« key è¨˜éŒ„
      } else {
        status = 'error'; icon = 'âœ—'; message = 'æ¯”å°å¤±æ•—ï¼æ­¤æ¢ç¢¼ä¸åœ¨æ¸…å–®ä¸­';
      }

      showScannerResult(status, icon, barcode, message, record);
      addToScannerHistory(status, icon, barcode, message);  // æ·»åŠ åˆ°æƒæå™¨å³æ™‚è¨˜éŒ„
      addToHistory(status, icon, barcode, message);
      updateStats();
      playSound(status);
      saveToStorage();
    }

    function showScannerResult(status, icon, barcode, message, record) {
      scannerResult.className = `scanner-result ${status} show`;
      scannerResultIcon.textContent = icon;
      scannerResultBarcode.textContent = barcode;
      scannerResultMessage.textContent = message;

      if (record && status === 'success') {
        scannerResultDetails.innerHTML = `<p><strong>å®¢æˆ¶ï¼š</strong>${record.customer || '-'}</p><p><strong>ç”¢å“ï¼š</strong>${record.product || '-'}</p>`;
        scannerResultDetails.style.display = 'block';
      } else {
        scannerResultDetails.style.display = 'none';
      }

      setTimeout(() => scannerResult.classList.remove('show'), 2500);
    }

    // ===== æƒæå™¨å…§å³æ™‚è¨˜éŒ„ =====
    function addToScannerHistory(status, icon, barcode, message) {
      const now = new Date();
      const time = now.toLocaleTimeString('zh-TW', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
      scannerSessionHistory.unshift({ status, icon, barcode, message, time });
      if (scannerSessionHistory.length > 20) scannerSessionHistory.pop();
      renderScannerHistory();
    }

    function renderScannerHistory() {
      scannerHistoryCount.textContent = scannerSessionHistory.length;
      if (scannerSessionHistory.length === 0) {
        scannerHistoryList.innerHTML = '<div class="scanner-history-empty">é–‹å§‹æƒææ¢ç¢¼...</div>';
        return;
      }
      scannerHistoryList.innerHTML = scannerSessionHistory.map((h, i) => `
        <div class="scanner-history-item ${h.status}${i === 0 ? ' new' : ''}">
          <span class="scanner-history-icon">${h.icon}</span>
          <div class="scanner-history-content">
            <div class="scanner-history-barcode">${h.barcode}</div>
            <div class="scanner-history-msg">${h.message}</div>
          </div>
          <span class="scanner-history-time">${h.time}</span>
        </div>
      `).join('');
    }

    function addToHistory(status, icon, barcode, message) {
      const now = new Date();
      const time = now.toLocaleTimeString('zh-TW', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
      scanHistory.unshift({ status, icon, barcode, message, time });
      if (scanHistory.length > 50) scanHistory.pop();
      renderHistory();
    }

    function renderHistory() {
      if (scanHistory.length === 0) {
        historyList.innerHTML = '<div class="empty-history"><p>å°šç„¡æƒæè¨˜éŒ„</p></div>';
        return;
      }
      historyList.innerHTML = scanHistory.map(h => `
        <div class="history-item ${h.status}">
            <span class="history-icon">${h.icon}</span>
            <div class="history-content">
                <div class="history-barcode">${h.barcode}</div>
                <div class="history-message">${h.message}</div>
            </div>
            <span class="history-time">${h.time}</span>
        </div>
    `).join('');
    }

    function clearHistory() {
      if (confirm('ç¢ºå®šè¦æ¸…é™¤æ‰€æœ‰æƒæè¨˜éŒ„å—ï¼Ÿ')) {
        scanHistory = [];
        scannedBarcodes.clear();
        renderHistory();
        updateStats();
        saveToStorage();
        showToast('å·²æ¸…é™¤æƒæè¨˜éŒ„', 'success');
      }
    }

    function saveToStorage() {
      try {
        localStorage.setItem('bc_scanned', JSON.stringify([...scannedBarcodes]));
        localStorage.setItem('bc_history', JSON.stringify(scanHistory));
      } catch (e) { }
    }

    function loadFromStorage() {
      try {
        const s = localStorage.getItem('bc_scanned');
        if (s) scannedBarcodes = new Set(JSON.parse(s));
        const h = localStorage.getItem('bc_history');
        if (h) { scanHistory = JSON.parse(h); renderHistory(); }
      } catch (e) { }
    }

    function showToast(message, type = 'info') {
      const toast = document.createElement('div');
      toast.className = `toast ${type}`;
      toast.textContent = message;
      toastContainer.appendChild(toast);
      setTimeout(() => { toast.style.opacity = '0'; setTimeout(() => toast.remove(), 300); }, 2500);
    }

    function playSound(status) {
      try {
        const ctx = new (window.AudioContext || window.webkitAudioContext)();
        const osc = ctx.createOscillator();
        const gain = ctx.createGain();
        osc.connect(gain); gain.connect(ctx.destination);
        osc.frequency.value = status === 'success' ? 800 : status === 'error' ? 300 : 500;
        osc.type = status === 'success' ? 'sine' : 'square';
        gain.gain.value = 0.1;
        osc.start();
        setTimeout(() => { osc.stop(); ctx.close(); }, 150);
      } catch (e) { }
    }
  </script>
</body>

</html>